<div class="p-6">
  <!-- Task Input Section -->
  <div class="mb-6 flex items-center space-x-4">
    <input
      type="text"
      [(ngModel)]="searchText"
      (input)="filterTasks()"
      placeholder="Search task"
      class="input input-bordered w-full max-w-md"
      [disabled]="editingIndex !== null"
    />
  </div>
  <div>
    <input
    type="text"
    [(ngModel)]="filterText"
    (input)="filterSearch()"
    placeholder="Search new"
    class="input input-bordered w-full max-w-md"
  />
  </div>
  <div *ngFor="let t of filteredSearch">
    <p>{{t}}</p>
  </div>
  <div class="mb-6 flex items-center space-x-4">
    <input
      type="text"
      [(ngModel)]="tasks.taskName"
      placeholder="Enter task name"
      class="input input-bordered w-full max-w-md"
      [disabled]="editingIndex !== null"
    />
    <button 
      (click)="addTask()" 
      [disabled]="editingIndex !== null" 
      class="btn btn-primary"
    >
      Add
    </button>
  </div>

  <div class="fixed top-4 right-4 z-50">
    <div class="dropdown dropdown-end">
      <label tabindex="0" class="btn m-1">Theme</label>
      <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
        <li><a (click)="changeTheme('light')">Light</a></li>
        <li><a (click)="changeTheme('dark')">Dark</a></li>
        <li><a (click)="changeTheme('cupcake')">Cupcake</a></li>
        <li><a (click)="changeTheme('bumblebee')">Bumblebee</a></li>
        <li><a (click)="changeTheme('emerald')">Emerald</a></li>
        <li><a (click)="changeTheme('corporate')">Corporate</a></li>
        <li><a (click)="changeTheme('synthwave')">Synthwave</a></li>
        <li><a (click)="changeTheme('retro')">Retro</a></li>
        <li><a (click)="changeTheme('cyberpunk')">Cyberpunk</a></li>
        <li><a (click)="changeTheme('valentine')">Valentine</a></li>
        <li><a (click)="changeTheme('halloween')">Halloween</a></li>
        <li><a (click)="changeTheme('garden')">Garden</a></li>
        <li><a (click)="changeTheme('forest')">Forest</a></li>
        <li><a (click)="changeTheme('aqua')">Aqua</a></li>
        <li><a (click)="changeTheme('lofi')">Lofi</a></li>
        <li><a (click)="changeTheme('pastel')">Pastel</a></li>
        <li><a (click)="changeTheme('fantasy')">Fantasy</a></li>
        <li><a (click)="changeTheme('wireframe')">Wireframe</a></li>
        <li><a (click)="changeTheme('black')">Black</a></li>
        <li><a (click)="changeTheme('luxury')">Luxury</a></li>
        <li><a (click)="changeTheme('dracula')">Dracula</a></li>
        <li><a (click)="changeTheme('cmyk')">CMYK</a></li>
      </ul>
    </div>
  </div>
  
  <app-child (messageEvent)="reciveFromChild($event)" ></app-child>
  <p>{{fromChild}}</p>

  <!-- Tasks List Section -->
  <div>
    <h3 class="text-xl font-bold mb-4">Tasks:</h3>
    <ul *ngIf="tasks.taskInfo.length > 0; else noTasks" class="space-y-3">
      <li
        *ngFor="let task of tasks.taskInfo; let i = index"
        class="flex justify-between items-center p-4 rounded-lg shadow-md"
      >
        <span>{{ task.taskName }}</span>
        <span>{{task.createdDate}}</span>
        <div class="space-x-2">
          <button 
            (click)="editTask(i)" 
            [disabled]="editingIndex !== null" 
            class="btn btn-sm btn-accent"
          >
            Edit
          </button>
          <button 
            (click)="removeTask(i)" 
            [disabled]="editingIndex !== null" 
            class="btn btn-sm btn-error"
          >
            Remove
          </button>
        </div>
      </li>
    </ul>
    <ng-template #noTasks>
      <p class="text-gray-500">No tasks pending.</p>
    </ng-template>
  </div>

  <!-- Edit Task Section -->
 
</div>

<div>
  <button 
      (click)="goToValidation()"
      class="btn btn-primary"
    >
      Go To Validations
    </button>
</div>
<p appHighlight>This text has a yellow background.</p>

<dialog id="my_modal_2" class="modal">
  <div *ngIf="editingIndex !== null" class="modal-box">
      <h3 class="text-lg font-semibold text-gray-700 mb-2">Edit Task</h3>
      <div class="flex items-center space-x-4">
        <input
          type="text"
          [(ngModel)]="editingTaskName"
          placeholder="Update task name"
          class="input input-bordered w-full max-w-md"
        />
        <button 
          (click)="updateTask(editingIndex, editingTaskName)" 
          class="btn btn-success"
        >
          Update
        </button>
        <button 
          (click)="cancelEdit()" 
          class="btn btn-secondary"
        >
          Cancel
        </button>
      </div>
  </div>
</dialog>
